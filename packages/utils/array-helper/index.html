<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="/public/assets/pico.min.css">
    <link rel="stylesheet" href="/public/assets/prism.css">
    <link rel="stylesheet" href="/public/assets/style.css">
    <script src="/public/assets/prism.js"></script>
</head>
<body>
<header>
    <nav>
    <a href="https://www.github.com/phpnomad">GitHub</a>
</nav></header>

<div class="docs-layout">
    <aside class="docs-sidebar">
                    <a href="/"><img src="/public/assets/logo.png" alt="PHPNomad Logo"/></a>
            <nav>
    
                                        <details class="nav-section" open>
                    <summary>
                                                    Packages
                                            </summary>
                    <div class="nav-group">
                                                            <details class="nav-section" open>
                    <summary>
                                                    Utils
                                            </summary>
                    <div class="nav-group">
                                                            <details class="nav-section" >
                    <summary>
                                                    Processors
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/utils/processors/list-sorter" class="">
                        List sorter
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/utils/processors/array-processor" class="">
                        Array processor
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/utils/processors/list-filter" class="">
                        List filter
                    </a>
                </div>
                        
                    </div>
                </details>
                                                <div class="nav-item">
                    <a href="/packages/utils/array-helper" class="">
                        Array helper
                    </a>
                </div>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                                                <details class="nav-section" >
                    <summary>
                                                    Core concepts
                                            </summary>
                    <div class="nav-group">
                                                            <details class="nav-section" >
                    <summary>
                                                    Bootstrapping
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/platform-integrations" class="">
                        Platform integrations
                    </a>
                </div>
                                                <details class="nav-section" >
                    <summary>
                                                    Initializers
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/initializers/event-listeners" class="">
                        Event listeners
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/initializers/event-binding" class="">
                        Event binding
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/initializers/facades" class="">
                        Facades
                    </a>
                </div>
                        
                    </div>
                </details>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/introduction" class="">
                        Introduction
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/advanced-bootstrapping" class="">
                        Advanced bootstrapping
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/creating-and-managing-initializers" class="">
                        Creating and managing initializers
                    </a>
                </div>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                        
</nav>            </aside>
    <main class="docs-content">
            <h1>Array Helper</h1>
<p>The <code>ArrayHelper</code> class contains several helper methods that make working with native PHP arrays a little easier. These methods are all statically accessible, and can be chained together using the <a href="./processors/array-processor">Array Processor</a>.</p>
<h2>Process</h2>
<p>Instantiates an <a href="./processors/array-processor">Array Processor</a>, which allows an array to have any method in <code>ArrayHelper</code> used in a chain.</p>
<pre><code class="language-php">// Outputs &quot;1, 3, bar, baz, foo&quot;
echo ArrayHelper::process(['foo', 'bar', 'baz', null, 1, 3])
                 -&gt;whereNotNull()
                 -&gt;sort(fn ($a, $b) =&gt; $a &lt;=&gt; $b)
                 -&gt;setSeparator(', ');
</code></pre>
<h2>Where Not Null</h2>
<p>Helper method to filter out values that are <code>null</code></p>
<pre><code class="language-php">//Returns ['foo','bar','baz']
ArrayHelper::whereNotNull(['foo','bar','baz',null]);
</code></pre>
<h2>Each</h2>
<p>Calls the specified callback on each item in a foreach loop. If the array is associative, the key is retained. Functional methods like this are particularly useful because they can require type safety in your callbacks.</p>
<p>The example below converts an array of tag names keyed by their URL-friendly slug into hashtags.</p>
<pre><code class="language-php">//Returns ['outer-banks' =&gt; '#OuterBanks', 'north-carolina' =&gt; '#NorthCarolina', 'travel' =&gt; '#Travel']
$hashtags = ArrayHelper::each([
  'outer-banks'    =&gt; 'Outer Banks',
  'north-carolina' =&gt; 'North Carolina',
  'travel'         =&gt; 'Travel',
], fn(string $value, string $key) =&gt; '#' . StringHelper::pascalCase($value));
</code></pre>
<h2>After</h2>
<p>Fetches items after the specified array position.</p>
<pre><code class="language-php">use PHPNomad\Helpers\ArrayHelper;

//['bar','baz']
ArrayHelper::after(['foo','bar','baz'],1);
</code></pre>
<h2>Before</h2>
<p>The opposite of <code>ArrayHelper::after</code>. Fetches items Before_ the specified array position.</p>
<pre><code class="language-php">use PHPNomad\Helpers\ArrayHelper;

//['foo']
ArrayHelper::before(['foo','bar','baz'],1);
</code></pre>
<h2>Dot</h2>
<p>Fetches an item from an array using a dot notation. Throws an <code>ItemNotFound</code> if the item provided could not be located in the array.</p>
<pre><code class="language-php">use PHPNomad\Helpers\ArrayHelper;

try{
  // baz
  ArrayHelper::dot(['foo' =&gt; ['bar' =&gt; 'baz']], 'foo.bar')
}catch(ItemNotFound $e){
  // Handle cases where the item was not found.
}
</code></pre>
<h2>Remove</h2>
<p>Removes an item from the array, and returns the transformed array.</p>
<pre><code class="language-php">// ['peanut butter' =&gt; 'JIF', 'jelly' =&gt; 'Smucker\'s']
ArrayHelper::remove(['milk' =&gt; 'Goshen Dairy','peanut butter' =&gt; 'JIF', 'jelly' =&gt; 'Smucker\'s'], 'milk');
</code></pre>
<h2>Wrap</h2>
<p>Forces an item to be an array, even if it isn't an array.</p>
<pre><code class="language-php">// [123]
ArrayHelper::wrap(123);
</code></pre>
<h2>Hydrate</h2>
<p>Creates an array of new instances given the arguments to pass into the instance constructor.</p>
<pre><code class="language-php">
class Tag{

	public function _Construct(public readonly string $slug, public readonly string $name){

	}
}

// [(Tag),(Tag),(Tag)
ArrayHelper::hydrate([
		['rv-life', 'RVLife'],
		['travel','Travel'],
		['wordpress','WordPress']
	],Tag::class)
</code></pre>
<h2>Flatten</h2>
<p>Flatten arrays of arrays into a single array where the parent array is embedded as an item keyed by the <code>$key</code>.</p>
<pre><code class="language-php">/**
 *  [
 *    ['id' =&gt; 'group-1', 'key' =&gt; 'value', 'another' =&gt; 'value'],
 *    ['id' =&gt; 'group-1', 'key' =&gt; 'another-value', 'another' =&gt; 'value'],
 *    ['id' =&gt; 'group-2', 'key' =&gt; 'value', 'another' =&gt; 'value'],
 *    ['id' =&gt; 'group-2', 'key' =&gt; 'another-value', 'another' =&gt; 'value']
 *  ]
 */
ArrayHelper::flatten([
  'group-1' =&gt; [['key' =&gt; 'value', 'another' =&gt; 'value'], ['key' =&gt; 'another-value', 'another' =&gt; 'value']],
  'group-2' =&gt; [['key' =&gt; 'value', 'another' =&gt; 'value'], ['key' =&gt; 'another-value', 'another' =&gt; 'value']],
], 'id')
</code></pre>
<h2>To Indexed</h2>
<p>Updates the array to contain a key equal to the array's key value.</p>
<pre><code class="language-php">/**
 * [
 *   ['slug' =&gt; 'travel','name' =&gt; 'Travel'],
 *   ['slug' =&gt; 'rv-life','name' =&gt; 'RV Life'],
 *   ['slug' =&gt; 'wordpress','name' =&gt; 'WordPress']
 * ]
 */
ArrayHelper::toIndexed(['travel' =&gt; 'Travel','rv-life' =&gt; 'RVLife','wordpress' =&gt; 'Wordpress'], 'slug', 'name');
</code></pre>
<h2>Sort</h2>
<p>Sorts array using the specified subject, sorting method, and direction. Transforms the array directly.</p>
<pre><code class="language-php">$items = ['bar','foo','baz'];

// ['foo', 'baz', 'bar']
ArrayHelper::sort($items,SORTREGULAR,Direction::Descending);
</code></pre>
<p>This also supports providing a callback for the sort, instead:</p>
<pre><code class="language-php">class Tag{

	public function _Construct(public readonly string $slug, public readonly string $name){

	}
}

$items = [
  new Tag('rv-life','RV Life'),
  new Tag('travel','Travel'),
  new Tag('outer-banks', 'Outer Banks'),
  new Tag('taos', 'Taos')
];

// [Tag(outer-banks), Tag(rv-life), Tag(taos), Tag(travel)]
ArrayHelper::sort($items,fn(Tag $a, Tag $b) =&gt; $a-&gt;slug &lt;=&gt; $b-&gt;slug);
</code></pre>
<h2>Pluck</h2>
<p>Plucks a single item from an array, given a key. Falls back to a default value if it is not set.</p>
<pre><code class="language-php">// 'bar'
ArrayHelper::pluck(['foo' =&gt; 'bar'],'foo','baz');

// 'baz'
ArrayHelper::pluck(['foo' =&gt; 'bar'],'invalid','baz');
</code></pre>
<p>If the item is not an array, it will also provide the default value.</p>
<pre><code class="language-php">// 'baz'
ArrayHelper::pluck('This is clearly not an array...and yet.','invalid','baz');
</code></pre>
<h2>Pluck Recursive</h2>
<p>Plucks a specific value from an array of items.</p>
<pre><code class="language-php">$items = [
    ['slug' =&gt; 'rv-life',  'name' =&gt; 'RVLife'],
    ['slug' =&gt; 'travel', 'name' =&gt; 'Travel'],
    ['slug' =&gt; 'wordpress', 'name' =&gt; 'WordPress'],
    ['name' =&gt; 'Invalid']
];

// ['rv-life','travel','outer-banks','taos', null]
ArrayHelper::PluckRecursive($items,'slug', null);
</code></pre>
<p>This also works with objects:</p>
<pre><code class="language-php">class Tag{

	public function _Construct(public readonly string $slug, public readonly string $name){

	}
}

$items = [
  new Tag('rv-life','RV Life'),
  new Tag('travel','Travel'),
  new Tag('outer-banks', 'Outer Banks'),
  new Tag('taos', 'Taos')
];

// ['rv-life','travel','outer-banks','taos']
ArrayHelper::pluckRecursive($items, 'slug', null);
</code></pre>
<h2>Cast</h2>
<p>Cast all items in the array to the specified type.</p>
<pre><code class="language-php">// [1, 234,12,123,0,0]
ArrayHelper::cast(['1','234','12.34',123,'alex',false], 'int');
</code></pre>
<h2>Append</h2>
<p>Adds the specified item(s) to the end of an array.</p>
<pre><code class="language-php">// ['foo','bar','baz']
ArrayHelper::append(['foo'],'bar','baz');
</code></pre>
<h2>Is Associative</h2>
<p>Returns true if this array is an associative array.</p>
<pre><code class="language-php">// true
ArrayHelper::isAssociative(['foo' =&gt; 'bar']);

// false
ArrayHelper::isAssociative(['foo', 'bar', 'baz']);
</code></pre>
<h2>Normalize</h2>
<p>Recursively sorts, and optionally mutates an array of arrays. Useful when preparing for caching purposes because it ensures that any array that is technically identical, although in a different order, is the same. This can also convert a closure into a format that can be safely converted into a hash.</p>
<p>Generally, this is used to prepare an array to be converted into a consistent hash, regardless of what order the items in the array are stored.</p>
<pre><code class="language-php">$cachedQuery = [
  'postType'      =&gt; 'post',
  'postsPerPage' =&gt; -1,
  'metaQuery'     =&gt; [
    'relation' =&gt; 'OR',
    [
      'key'     =&gt; 'likes',
      'value'   =&gt; 50,
      'compare' =&gt; '&gt;',
      'type'    =&gt; 'numeric',
    ],
  ],
];

/**
* [
*   'metaQuery' =&gt; [
*      'relation' =&gt; 'OR'
*      [
*        'compare' =&gt; '&gt;'
*        'key' =&gt; 'likes'
*        'type' =&gt; 'numeric'
*        'value' =&gt; 50
*      ]
*  ]
*   'postType' =&gt; 'post'
*   'postsPerPage' =&gt; int -1
 * ]
 */
ArrayHelper::normalize($cachedQuery)
</code></pre>
<h2>Proxies</h2>
<p>There are also several methods that serve as direct proxies for <code>array_*</code> functions, with the only difference being that the order of the arguments always put the input array as the first argument (haystack comes first).</p>
<ul>
<li>map =&gt; arrayMap</li>
<li>reduce =&gt; arrayReduce</li>
<li>filter =&gt; arrayFilter</li>
<li>values =&gt; arrayValues</li>
<li>keys =&gt; arrayKeys</li>
<li>unique =&gt; arrayUnique</li>
<li>keySort =&gt; ksort</li>
<li>merge =&gt; arrayMerge</li>
<li>reverse =&gt; arrayReverse</li>
<li>prepend =&gt; arrayUnshift</li>
<li>intersect =&gt; arrayIntersect</li>
<li>intersectKeys =&gt; arrayIntersectKeys</li>
<li>diff =&gt; arrayDiff</li>
<li>replaceRecursive =&gt; arrayReplaceRecursive</li>
<li>replace =&gt; arrayReplace</li>
</ul>

    </main>
</div>

<footer>
    <p class="mod--center">These docs were built with <a href="https://www.github.com/phpnomad/documentation">a static site generator that was made with PHPNomad.</a></p>
<small class="mod--center">Made and maintained by the people at <a href="https://www.novatori.us">Novatorius</a>. <em>Mente Nova!</em></small></footer>
</body>
</html>

