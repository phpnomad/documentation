<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="/public/assets/pico.min.css">
    <link rel="stylesheet" href="/public/assets/prism.css">
    <link rel="stylesheet" href="/public/assets/style.css">
    <script src="/public/assets/prism.js"></script>
</head>
<body>
<header>
    <nav>
    <a href="https://www.github.com/phpnomad">GitHub</a>
</nav></header>

<div class="docs-layout">
    <aside class="docs-sidebar">
                    <a href="/"><img src="/public/assets/logo.png" alt="PHPNomad Logo"/></a>
            <nav>
    
                                        <details class="nav-section" >
                    <summary>
                                                    Core concepts
                                            </summary>
                    <div class="nav-group">
                                                            <details class="nav-section" >
                    <summary>
                                                    Bootstrapping
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/advanced-bootstrapping" class="">
                        Advanced bootstrapping
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/creating-and-managing-initializers" class="">
                        Creating and managing initializers
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/introduction" class="">
                        Introduction
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/platform-integrations" class="">
                        Platform integrations
                    </a>
                </div>
                                                <details class="nav-section" >
                    <summary>
                                                    Initializers
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/initializers/event-binding" class="">
                        Event binding
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/initializers/event-listeners" class="">
                        Event listeners
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/initializers/facades" class="">
                        Facades
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/core-concepts/bootstrapping/initializers/rest-controllers" class="">
                        Rest controllers
                    </a>
                </div>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                                                <details class="nav-section" open>
                    <summary>
                                                    Packages
                                            </summary>
                    <div class="nav-group">
                                                            <details class="nav-section" open>
                    <summary>
                                                    Rest
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/rest/controllers" class="">
                        Controllers
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/integration-guide" class="">
                        Integration guide
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/introduction" class="">
                        Introduction
                    </a>
                </div>
                                                <details class="nav-section" >
                    <summary>
                                                    Interceptors
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/rest/interceptors/introduction" class="">
                        Introduction
                    </a>
                </div>
                                                <details class="nav-section" >
                    <summary>
                                                    Included interceptors
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/rest/interceptors/included-interceptors/event-interceptor" class="">
                        Event interceptor
                    </a>
                </div>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                                                <details class="nav-section" >
                    <summary>
                                                    Middleware
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/rest/middleware/introduction" class="">
                        Introduction
                    </a>
                </div>
                                                <details class="nav-section" >
                    <summary>
                                                    Included middleware
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/rest/middleware/included-middleware/callback-middleware" class="">
                        Callback middleware
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/middleware/included-middleware/parse-jwt-middleware" class="">
                        Parse jwt middleware
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/middleware/included-middleware/set-type-middleware" class="">
                        Set type middleware
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/middleware/included-middleware/validation-middleware" class="">
                        Validation middleware
                    </a>
                </div>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                                                <details class="nav-section" >
                    <summary>
                                                    Validations
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/rest/validations/introduction" class="">
                        Introduction
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/validations/validation-set" class="">
                        Validation set
                    </a>
                </div>
                                                <details class="nav-section" >
                    <summary>
                                                    Included validations
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/rest/validations/included-validations/is-any" class="">
                        Is any
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/validations/included-validations/is-email" class="">
                        Is email
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/validations/included-validations/is-greater-than" class="">
                        Is greater than
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/validations/included-validations/is-numeric" class="">
                        Is numeric
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/validations/included-validations/is-type" class="">
                        Is type
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/rest/validations/included-validations/keys-are-any" class="">
                        Keys are any
                    </a>
                </div>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                                                <details class="nav-section" >
                    <summary>
                                                    Utils
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/utils/array-helper" class="">
                        Array helper
                    </a>
                </div>
                                                <details class="nav-section" >
                    <summary>
                                                    Processors
                                            </summary>
                    <div class="nav-group">
                                                            <div class="nav-item">
                    <a href="/packages/utils/processors/array-processor" class="">
                        Array processor
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/utils/processors/list-filter" class="">
                        List filter
                    </a>
                </div>
                                                <div class="nav-item">
                    <a href="/packages/utils/processors/list-sorter" class="">
                        List sorter
                    </a>
                </div>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                        
                    </div>
                </details>
                        
</nav>            </aside>
    <main class="docs-content">
            <h1 id="rest">Rest</h1>
<p><code>phpnomad/rest</code> is an <strong>MVC-driven methodology for defining REST APIs</strong>.
It’s designed to let you describe <strong>controllers, routes, validations, and policies</strong> in a way that’s <strong>agnostic to the
framework or runtime</strong> you plug into.</p>
<p>At its core:</p>
<ul>
<li><strong>Controllers</strong> express your business logic in a consistent contract.</li>
<li><strong>RestStrategies</strong> adapt those controllers to different environments (FastRoute, WordPress, custom).</li>
<li><strong>Middleware</strong> and <strong>Validations</strong> give you predictable, portable contracts around input handling and authorization.</li>
<li><strong>Interceptors</strong> capture side effects like events or logs after responses are sent.</li>
</ul>
<p>By separating API <strong>definition</strong> (what the endpoint is, what it requires, what it returns) from <strong>integration</strong> (how it
runs inside a host), you get REST endpoints that can move between stacks without rewrites.</p>
<h2 id="key-ideas-at-a-glance">Key ideas at a glance</h2>
<ul>
<li><strong>Controller</strong> — your endpoint’s logic, returning the payload + status intent.</li>
<li><strong>RestStrategy</strong> — wires routes to controllers in your host framework.</li>
<li><strong>Middleware</strong> — pre-controller cross-cuts (auth, pagination defaults, projections).</li>
<li><strong>Validations</strong> — input contracts with a consistent error shape.</li>
<li><strong>Interceptors</strong> — post-response side effects (events, logs, metrics).</li>
</ul>
<hr />
<h2 id="the-request-lifecycle">The Request Lifecycle</h2>
<p>When a request enters a system wired with <code>phpnomad/rest</code>, it moves through a consistent sequence of steps:</p>
<pre><code>Route → Middleware → Controller → Response → Interceptors
</code></pre>
<h3 id="route">Route</h3>
<p>The <strong>RestStrategy</strong> matches an incoming request to a registered controller based on the HTTP method and path.</p>
<ul>
<li>Integration-specific (FastRoute, WordPress, custom).</li>
<li>Responsible only for dispatching into the portable REST flow.</li>
</ul>
<h3 id="middleware">Middleware</h3>
<p><a href="/packages/rest/middleware/introduction">Middleware</a> runs <strong>before</strong> your controller logic.</p>
<ul>
<li>Can short-circuit (e.g., fail auth, block a bad request).</li>
<li>Can enrich context (e.g., inject a current user, parse query filters).</li>
<li>Runs in defined order, producing a clean setup for the controller.</li>
</ul>
<h3 id="validations">Validations</h3>
<p><a href="/packages/rest/validations/introduction">Validation</a> sets define <strong>input contracts</strong> for the request. These are set using a
middleware, so you can control when
they run.</p>
<ul>
<li>Ensure required fields are present.</li>
<li>Enforce types and formats (e.g., integer IDs, valid emails).</li>
<li>Failures are collected and returned in a predictable error payload.</li>
</ul>
<h3 id="controller-handle-method">Controller Handle Method</h3>
<p>The <a href="/packages/rest/controllers">controller</a> is the <strong>core of the endpoint</strong>.</p>
<ul>
<li>Business logic goes here: read, mutate, return.</li>
<li>Sees a request context already shaped by middleware and validated inputs.</li>
<li>Returns a response object, setting the status and payload.</li>
</ul>
<h3 id="interceptors">Interceptors</h3>
<p><a href="/packages/rest/interceptors/introduction">Interceptors</a> run <strong>after the controller has produced a response</strong> and <strong>before the
response leaves the pipeline</strong>.</p>
<p>They're usually used for two main purposes:</p>
<ol>
<li><strong>Adapt the response</strong> — reshape or enrich the response object without touching controller code.</li>
<li><strong>Perform side effects</strong> — emit events, write audit logs, push metrics, etc.</li>
</ol>
<p>Because interceptors sit at the boundary, they’re an ideal place to keep controllers lean while still achieving
consistent output formats and cross-cutting behavior.</p>

    </main>
</div>

<footer>
    <p class="mod--center">These docs were built with <a href="https://www.github.com/phpnomad/documentation">a static site generator that was made with PHPNomad.</a></p>
<small class="mod--center">Made and maintained by the people at <a href="https://www.novatori.us">Novatorius</a>. <em>Mente Nova!</em></small></footer>
</body>
</html>

